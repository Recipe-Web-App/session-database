# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_admin_password_here
REDIS_ADMIN_PASSWORD=your_redis_admin_password_here

# Redis Sentinel Configuration (for HA mode)
SENTINEL_PASSWORD=your_sentinel_password_here

# =============================================================================
# Per-Service Redis ACL Passwords
# Each service has its own Redis user with restricted key access
# =============================================================================

# Auth Service (DB 0) - OAuth2 authentication, sessions, tokens
AUTH_SERVICE_REDIS_PASSWORD=auth_service_redis_password

# Recipe Scraper (DBs 1-3) - Cache, queue, and rate limiting
SCRAPER_SERVICE_REDIS_PASSWORD=your_scraper_service_password_here

# User Management (DB 4) - User data cache
USER_SERVICE_REDIS_PASSWORD=your_user_service_password_here

# Notification Service (DB 5) - Notification queue and state
NOTIFICATION_SERVICE_REDIS_PASSWORD=your_notification_service_password_here

# Meal Plan Management (DB 6) - Meal plan cache
MEALPLAN_SERVICE_REDIS_PASSWORD=your_mealplan_service_password_here

# =============================================================================
# Database Assignments (for reference - configured in Helm values)
# =============================================================================
# DB 0: auth-service (OAuth2, sessions, tokens)
# DB 1: recipe-scraper cache
# DB 2: recipe-scraper queue
# DB 3: recipe-scraper rate limiting
# DB 4: user-management
# DB 5: notification-service
# DB 6: meal-plan-management
# DB 7-15: Reserved for future services

# =============================================================================
# Service TTL Configuration
# =============================================================================

# Auth Service TTLs (seconds)
AUTH_SESSION_TTL=3600
AUTH_ACCESS_TOKEN_TTL=900
AUTH_REFRESH_TOKEN_TTL=604800

# Recipe Scraper TTLs (seconds)
SCRAPER_CACHE_TTL=86400
SCRAPER_QUEUE_JOB_TTL=3600
SCRAPER_RATELIMIT_WINDOW=60

# User Management TTLs (seconds)
USER_CACHE_TTL=3600

# Notification Service TTLs (seconds)
NOTIFICATION_TTL=86400

# Meal Plan TTLs (seconds)
MEALPLAN_CACHE_TTL=3600

# =============================================================================
# NodePort Configuration (for external access via minikube)
# =============================================================================
REDIS_NODEPORT=30379
SENTINEL_NODEPORT=30380
REPLICA_NODEPORT=30381

# =============================================================================
# Kubernetes Configuration
# =============================================================================
REDIS_NAMESPACE=redis-database
REDIS_RELEASE=redis-database

# Logging
LOG_LEVEL=INFO

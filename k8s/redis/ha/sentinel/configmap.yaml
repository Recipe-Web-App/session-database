---
apiVersion: v1
kind: ConfigMap
metadata:
  name: redis-sentinel-config
  namespace: session-database
  labels:
    app: redis-sentinel
    component: ha
data:
  sentinel.conf: |
    port 26379
    sentinel monitor mymaster redis-master-service 6379 2
    sentinel auth-pass mymaster ${REDIS_PASSWORD}
    sentinel requirepass ${SENTINEL_PASSWORD}
    sentinel down-after-milliseconds mymaster 5000
    sentinel parallel-syncs mymaster 1
    sentinel failover-timeout mymaster 10000
    sentinel deny-scripts-reconfig yes
    bind 0.0.0.0
    protected-mode no
    logfile ""
